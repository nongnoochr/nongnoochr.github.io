(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{22:function(e,t,n){e.exports={Status:"Status_Status__18r35",StatusText:"Status_StatusText__2isoA",Standby:"Status_Standby__3C7PQ",Initializing:"Status_Initializing__2Qqtx",Running:"Status_Running__1y_nl",ProgressBarContainer:"Status_ProgressBarContainer__3Gux2"}},30:function(e,t,n){e.exports={Container:"DisplayPanel_Container__285zM",DisplayElement:"DisplayPanel_DisplayElement__3afS8",Summary:"DisplayPanel_Summary__2ewc5",Status:"DisplayPanel_Status__2URGt"}},31:function(e,t,n){e.exports={Container:"ControlPanel_Container__qnkq1",DisplayElement:"ControlPanel_DisplayElement__2h3sc",Settings:"ControlPanel_Settings__1ZOo6",ControlButton:"ControlPanel_ControlButton__2Oa9-"}},32:function(e,t,n){e.exports={Label:"Settings_Label__3eKuP",TimeSelectorContainer:"Settings_TimeSelectorContainer__27_OR"}},37:function(e,t,n){e.exports={"loading-animation-container":"Loader_loading-animation-container__2M4Ci",dot:"Loader_dot__2wAQQ",bounce:"Loader_bounce__3a78I"}},48:function(e,t,n){e.exports={AlertContents:"Summary_AlertContents__yj2hY",Summary:"Summary_Summary__3T0TE"}},51:function(e,t,n){e.exports={ControlButton:"ControlButton_ControlButton__376PQ",ButtonIcon:"ControlButton_ButtonIcon__2CN2X"}},52:function(e,t,n){e.exports={Container:"MainContainer_Container__1w31R",Panel:"MainContainer_Panel__nSoDg"}},68:function(e,t,n){e.exports={TimerSelector:"TimerSelector_TimerSelector__1SvwW"}},75:function(e,t,n){e.exports=n(89)},80:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(27),i=n.n(s),c=(n(80),n(95)),o=n(94),l=n(44),u=function(e){return r.a.createElement(c.a,{bg:"dark",variant:"dark",expand:"lg"},r.a.createElement(c.a.Brand,{href:"#home"},"RPi machine"),r.a.createElement(c.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(c.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(o.a,{className:"mr-auto"},r.a.createElement(o.a.Link,{as:l.b,to:"/"},"Home"),r.a.createElement(o.a.Link,{href:"#link"},"Link"))))},m=n(7),p=n.n(m),d=n(8),E=n(11),h=n(13),b=n(16),f=n(14),g=n(17),v=n(30),S=n.n(v),_=n(25),y=n(48),O=n.n(y),C=n(15),T=n(73),j=n(50),x={hour:0,minute:0,second:0},N=function(e){return new Promise((function(t){return setTimeout(t,e)}))},w=function(e){return k(x,e)},P=function(e){return 3600*e.hour+60*e.minute+e.second},k=function(e,t){var n=P(e)+t/1e3,a=n%60,r=Math.floor(n/60),s=r%60;return{hour:Math.floor(r/60),minute:s,second:a}},D=function(e){var t=w(e),n="";return t.hour>0&&(n=n+t.hour.toFixed()+" hrs "),t.minute>0&&(n=n+t.minute.toFixed()+" mins "),t.second>0&&(n=n+t.second.toFixed()+" secs "),n},A=function(e){var t=e.toFixed();return 1===t.length&&(t="0"+t),t},R="External Controller",I="Settings",B="Timer",L="LED1",F="LED2",M=function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(n=Object(b.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(s)))).getTemperatureData=function(){return n.props.data.sensors.temperature?r.a.createElement("span",null,r.a.createElement("span",null,n.props.data.sensors.temperature.toFixed(1)),r.a.createElement("span",null,"\u2103")):"N/A"},n.getHumidityData=function(){return n.props.data.sensors.humidity?r.a.createElement("span",null,r.a.createElement("span",null,n.props.data.sensors.humidity.toFixed(1)),r.a.createElement("span",null,"%")):"N/A"},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e,t,n,s;t=this.props.data.duration?D(this.props.data.duration):"N/A",n=this.props.settings.settings.length>0?this.props.settings.settings.join("+"):"None",s=this.props.data.lastActualDuration?D(this.props.data.lastActualDuration):"N/A";var i=(e={},Object(_.a)(e,R,this.props.settings.externalCtrl?"Enabled":"Disabled"),Object(_.a)(e,I,n),Object(_.a)(e,B,t),Object(_.a)(e,"Last RunTime Duration",s),e),c=Object.keys(i).map((function(e){return r.a.createElement(a.Fragment,{key:e},r.a.createElement("div",{className:"col-5"},r.a.createElement("label",null,e)),r.a.createElement("div",{className:"col-7"},i[e]))}));return r.a.createElement("div",{className:O.a.Summary},r.a.createElement(T.a,{variant:"primary",className:O.a.AlertContents},r.a.createElement("div",null,r.a.createElement(j.b,null),r.a.createElement("label",null,"Temperature:"),this.getTemperatureData()),r.a.createElement("div",null,r.a.createElement(j.a,null),r.a.createElement("label",null,"Humidity:"),this.getHumidityData())),r.a.createElement("div",{className:"row"},c))}}]),t}(a.Component),U=Object(C.b)((function(e){return{settings:e.settings}}))(M),z=n(22),G=n.n(z),H=n(37),V=n.n(H),Q=function(e){return r.a.createElement("div",{className:V.a["loading-animation-container"]},r.a.createElement("div",{className:V.a.dot}),r.a.createElement("div",{className:V.a.dot}),r.a.createElement("div",{className:V.a.dot}))},q=function(e){return r.a.createElement("div",null,(t=e.data.current,A(t.hour)+":"+A(t.minute)+":"+A(t.second)));var t},W=n(67),X=n(66),J="standby",K="initializing",Y="running",Z=function(e){function t(){return Object(E.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e={className:"",content:null};switch(this.props.state){case J:e={className:G.a.Standby,content:r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:G.a.StatusText},"Standby"),r.a.createElement("div",null,r.a.createElement(X.a,null)))};break;case K:e={className:G.a.Initializing,content:r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:G.a.StatusText},"Initializing"),r.a.createElement(Q,null))};break;case Y:var t,n,s={isrunning:this.props.isrunning,current:Object(d.a)({},this.props.data.current)};if(this.props.data.duration){var i=1e3*P(this.props.data.current);t=Math.ceil(i/this.props.data.duration*100),n="".concat(t,"%")}else t=100,n="In progress...";e={className:G.a.Running,content:r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:G.a.StatusText},"Running"),r.a.createElement(q,{data:s}),r.a.createElement("div",{className:G.a.ProgressBarContainer},r.a.createElement(W.a,{animated:!0,now:t,label:n})))}}return r.a.createElement("div",{className:["box-border",G.a.Status,e.className].join(" ")},e.content)}}]),t}(a.Component),$=function e(){Object(E.a)(this,e)};$.fetchSensorData=function(){var e,t;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=2*Math.random()-1+25,t=5*Math.random()-3+40,n.abrupt("return",{temperature:e,humidity:t});case 3:case"end":return n.stop()}}))},$.initProcess=function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Initializing process..."),e.next=3,p.a.awrap(N(1e3));case 3:return e.abrupt("return",{success:!0});case 4:case"end":return e.stop()}}))},$.startProcess=function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("START process..."),e.next=3,p.a.awrap(N(1e3));case 3:return e.abrupt("return",{success:!0});case 4:case"end":return e.stop()}}))},$.stopProcess=function(){return p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("STOP process..."),e.next=3,p.a.awrap(N(1e3));case 3:return e.abrupt("return",{success:!0});case 4:case"end":return e.stop()}}))};var ee=$,te=function(e){return{type:"UPDATE_SETTINGS",settings:e}},ne=$,ae=n(18),re=function(e){function t(e){var n;return Object(E.a)(this,t),(n=Object(b.a)(this,Object(f.a)(t).call(this,e)))._initData=function(){var e=new Date,t=null;n.props.duration&&(t=new Date(e.getTime())).setMilliseconds(n.props.duration),n.setState({start:e,computedEnd:t,current:Object(d.a)({},x)}),setTimeout((function(){n.props.onFetchSensorData()}),1e3)},n._addMilliSecond=function(e){var t=k(n.state.current,e);n.setState({current:t})},n._startTimer=function(){p.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:n._initData();case 1:if(!n.props.isrunning){e.next=12;break}if(!n.props.duration){e.next=7;break}if(!(1e3*P(n.state.current)>=n.props.duration)){e.next=7;break}return n.props.onStopProcess(),e.abrupt("break",12);case 7:return e.next=9,p.a.awrap(N(250));case 9:n._addMilliSecond(250),e.next=1;break;case 12:case"end":return e.stop()}}))},n.state={start:null,computedEnd:null,actualEnd:null,current:Object(d.a)({},x),timerstatus:!1,lastActualDuration:null},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this._initData()}},{key:"componentDidUpdate",value:function(){if(this.props.isrunning&&!this.state.timerstatus&&(this._startTimer(),this.setState({timerstatus:!0})),!this.props.isrunning&&this.state.timerstatus){var e=new Date,t=e-this.state.start;this.setState({actualEnd:e,lastActualDuration:t,timerstatus:!1})}}},{key:"render",value:function(){var e=this.props.duration,t=this.props.status;return r.a.createElement("div",{className:S.a.Container},r.a.createElement("div",{className:[S.a.DisplayElement,S.a.Summary].join(" ")},r.a.createElement(ae.a,null,r.a.createElement(ae.a.Body,null,r.a.createElement(U,{data:{sensors:Object(d.a)({},this.props.sensors),duration:e,lastActualDuration:this.state.lastActualDuration}})))),r.a.createElement("div",{className:[S.a.DisplayElement,S.a.Status].join(" ")},r.a.createElement(ae.a,{className:"text-center",style:{height:"100%"}},r.a.createElement(ae.a.Header,null,r.a.createElement("strong",null,"STATUS")),r.a.createElement(ae.a.Body,null,r.a.createElement(Z,{state:t,data:{current:this.state.current,duration:e}})))))}}]),t}(a.Component),se=Object(C.b)((function(e){return{status:e.timer.status,isrunning:e.timer.isrunning,sensors:e.sensors,duration:e.settings.duration}}),(function(e){return{onFetchSensorData:function(){return e((function(e){p.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,p.a.awrap(ne.fetchSensorData().then((function(t){e({type:"FETCH_SENSORDATA",data:t})})).catch((function(e){return console.log(e)})));case 3:return t.next=5,p.a.awrap(N(1e3));case 5:t.next=0;break;case 7:case"end":return t.stop()}}))}))},onStopProcess:function(){return e({type:"STOP_PROCESS",success:!0})}}}))(re),ie=n(31),ce=n.n(ie),oe=n(32),le=n.n(oe),ue=n(93),me=n(91),pe=n(69),de=n(92),Ee=n(96),he=n(70),be=n(71),fe=n(68),ge=n.n(fe),ve=function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(b.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).updatePropValue=function(e,t){var a={hour:n.props.hour,minute:n.props.minute,second:n.props.second};a[t]=+e.target.value;var r=1e3*P(a);n.props.onUpdateSettings({duration:r})},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:ge.a.TimerSelector},r.a.createElement("div",null,r.a.createElement("input",{type:"number",name:"hour",min:"0",max:"999",step:"1",defaultValue:this.props.hour,disabled:this.props.disabled,onChange:function(t){return e.updatePropValue(t,"hour")}})," Hours"),r.a.createElement("div",null,r.a.createElement("input",{type:"number",name:"minute",min:"0",max:"60",step:"1",defaultValue:this.props.minute,disabled:this.props.disabled,onChange:function(t){return e.updatePropValue(t,"minute")}})," Minutes"),r.a.createElement("div",null,r.a.createElement("input",{type:"number",name:"second",min:"0",max:"60",step:"1",defaultValue:this.props.second,disabled:this.props.disabled,onChange:function(t){return e.updatePropValue(t,"second")}})," Seconds"))}}]),t}(a.Component),Se=Object(C.b)((function(e){var t=e.settings.duration,n=w(t);return Object(d.a)({duration:t},n)}),(function(e){return{onUpdateSettings:function(t){return e(te(t))}}}))(ve),_e=n(35),ye=function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(b.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={showTimer:!1},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:le.a.Settings},r.a.createElement("div",null,r.a.createElement(ue.a,null,r.a.createElement(ue.a.Group,{as:me.a,controlId:"externalCtrlForm"},r.a.createElement(ue.a.Label,{className:le.a.Label,column:!0,sm:6},"Turn on ",R),r.a.createElement(pe.a,{sm:6},r.a.createElement(ue.a.Check,{type:"switch",id:"switch-ext-ctrl",label:"",checked:this.props.settings.externalCtrl,disabled:this.props.isrunning,onChange:function(t){var n=t.target.checked;e.props.onUpdateSettings({externalCtrl:n})}}))))),r.a.createElement("div",null,r.a.createElement(ue.a,null,r.a.createElement("fieldset",null,r.a.createElement("legend",null,r.a.createElement(_e.b,null),"Configurations"),r.a.createElement(ue.a.Group,{as:me.a,controlId:"settingsForm"},r.a.createElement(ue.a.Label,{className:le.a.Label,column:!0,sm:6},I),r.a.createElement(pe.a,{sm:6},r.a.createElement(de.a,null,r.a.createElement(Ee.a,{type:"checkbox",value:this.props.settings.settings,onChange:function(t){e.props.onUpdateSettings({settings:t})}},r.a.createElement(he.a,{value:L,variant:"outline-primary",disabled:this.props.isrunning},L),r.a.createElement(he.a,{value:F,variant:"outline-primary",disabled:this.props.isrunning},F))))),r.a.createElement(ue.a.Group,{as:me.a,controlId:"durationForm"},r.a.createElement(ue.a.Label,{className:le.a.Label,column:!0,sm:6},B),r.a.createElement(pe.a,{sm:6},r.a.createElement(ue.a.Check,{type:"switch",id:"switch-duration",label:"",checked:this.state.showTimer,disabled:this.props.isrunning,onChange:function(t){e.setState({showTimer:t.target.checked})}})),r.a.createElement("div",{style:{display:this.state.showTimer?null:"none"},className:le.a.TimeSelectorContainer},r.a.createElement(Se,{disabled:this.props.isrunning}))),r.a.createElement(be.a,{variant:"outline-info",onClick:function(){e.props.onResetSettings(),e.setState({showTimer:!1})}},"RESET")))))}}]),t}(a.Component),Oe=Object(C.b)((function(e){return{isrunning:e.timer.isrunning,settings:e.settings}}),(function(e){return{onUpdateSettings:function(t){return e(te(t))},onResetSettings:function(){return e({type:"RESET_SETTINGS"})}}}))(ye),Ce=n(51),Te=n.n(Ce),je=function(e){var t=null;return t="start"===e.state?{className:"btn btn-lg btn-block btn-primary",label:"Press to START",icon:r.a.createElement(_e.a,null)}:{className:"btn btn-lg btn-block btn-danger",label:"Press to STOP",icon:r.a.createElement(_e.c,null)},r.a.createElement("div",{className:Te.a.ControlButton},r.a.createElement("button",{type:"button",className:t.className,style:{height:"100%"},onClick:e.clicked,disabled:e.disabled},r.a.createElement("div",null,r.a.createElement("div",{className:Te.a.ButtonIcon},t.icon),r.a.createElement("div",null,t.label))))},xe=function(e){function t(){return Object(E.a)(this,t),Object(b.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(ae.a,null,r.a.createElement(ae.a.Body,null,r.a.createElement("div",{className:ce.a.Container},r.a.createElement("div",{style:{opacity:this.props.isrunning?.4:null},className:[ce.a.Settings,ce.a.DisplayElement].join(" ")},r.a.createElement(ae.a,null,r.a.createElement(ae.a.Body,null,r.a.createElement(Oe,null)))),r.a.createElement("div",{className:[ce.a.ControlButton,ce.a.DisplayElement].join(" ")},r.a.createElement(je,{state:this.props.isrunning?"stop":"start",clicked:this.props.isrunning?this.props.onClickStop:this.props.onClickStart,disabled:this.props.appstatus===K})))))}}]),t}(a.Component),Ne=Object(C.b)((function(e){return{isrunning:e.timer.isrunning,appstatus:e.timer.status}}),(function(e){return{onClickStart:function(){return e((function(e){!function(){var t,n;p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:"UPDATE_STATUS",status:K}),a.next=3,p.a.awrap(ee.initProcess());case 3:if(t=a.sent,e({type:"INIT_PROCESS",success:t.success}),!t.success){a.next=10;break}return a.next=8,p.a.awrap(ee.startProcess());case 8:n=a.sent,e({type:"START_PROCESS",success:n.success});case 10:case"end":return a.stop()}}))}()}))},onClickStop:function(){return e({type:"STOP_PROCESS",success:!0})}}}))(xe),we=n(52),Pe=n.n(we),ke=function(e){var t=[r.a.createElement(se,null),r.a.createElement(Ne,null)].map((function(e,t){return r.a.createElement("div",{key:t,className:Pe.a.Panel},e)}));return r.a.createElement("div",{className:["container-fluid",Pe.a.Container].join(" ")},t)},De=function(e){return r.a.createElement("div",null,r.a.createElement(u,null),r.a.createElement(ke,null))};n(88);var Ae=function(){return r.a.createElement("div",null,r.a.createElement(De,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Re=n(26),Ie=n(72),Be=function(e,t){return Object(d.a)({},e,{},t)},Le={status:J,isinitializing:!1,isrunning:!1,duration:0},Fe=Object(d.a)({},Le),Me=function(e,t){var n=t.status;switch(n){case K:return Be(e,{status:n,isinitializing:!0,isrunning:!1});case Y:return Be(e,{status:n,isinitializing:!1,isrunning:!0});default:return e}},Ue=function(e,t){var n=t.success,a=J;return n&&(a=K),Be(e,{status:a,isinitializing:n,isrunning:!1})},ze=function(e,t){var n=t.success,a=J;return n&&(a=Y),Be(e,{status:a,isinitializing:!1,isrunning:n})},Ge=function(e,t){return t.success?Be(e,{status:J,isinitializing:!1,isrunning:!1}):e},He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_STATUS":return Me(e,t);case"INIT_PROCESS":return Ue(e,t);case"START_PROCESS":return ze(e,t);case"STOP_PROCESS":return Ge(e,t);default:return e}},Ve={externalCtrl:!1,settings:[L,F],duration:0},Qe=function(e,t){var n=Object(d.a)({},t.settings);return Be(e,Object(d.a)({},n))},qe=function(e,t){return Be(e,Object(d.a)({},Ve))},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SETTINGS":return Qe(e,t);case"RESET_SETTINGS":return qe(e);default:return e}},Xe={temperature:null,humidity:null},Je=function(e,t){var n=Object(d.a)({},t.data);return Be(e,n)},Ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SENSORDATA":return Je(e,t);default:return e}},Ye=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Re.d,Ze=Object(Re.c)({timer:He,settings:We,sensors:Ke}),$e=Object(Re.e)(Ze,Ye(Object(Re.a)(Ie.a))),et=r.a.createElement(C.a,{store:$e},r.a.createElement(l.a,null,r.a.createElement(Ae,null)));i.a.render(et,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[75,1,2]]]);
//# sourceMappingURL=main.770ef9d9.chunk.js.map